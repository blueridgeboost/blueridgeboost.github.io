{{ if default true .Site.Params.CarouselHomepage.enable }}
{{ if gt (len .Site.Data.carousel) 0 }}
<section>
    <div class="home-carousel">
        <div class="dark-mask"></div>
        <div class="owl-carousel owl-theme owl-loaded">
            <div class="owl-stage-outer">
                <div class="owl-stage">
                    {{ range sort .Site.Data.carousel "weight"}}
                    <div class="owl-item">
                        <div class="slide-owl-wrap">
                            <div class="container">
                                <div class="row">
                                    <div class="col-sm-6">
                                    {{ if gt .weight 1 }}
                                    <!-- <img 
                                        class="owl-lazy"
                                        data-src="images/carousel/{{ .image }}" 
                                        alt="{{ .alt }}"
                                        width="600" height="338"> -->
                                    <img class="img-responsive owl-lazy" 
                                        data-srcset="/images/carousel/{{ .image }} 338w, /images/carousel/1200_{{ .image }} 1200w, /images/carousel/600_{{ .image }} 600w, /images/carousel/300_{{ .image }} 300w " 
                                        data-src="/images/carousel/{{ .image }}" 
                                        data-sizes="auto"
                                        width="600" height="338"
                                        alt="{{ .Params.alt }}">
                                    {{ else }}
                                    <img class="img-responsive" 
                                        srcset="/images/carousel/{{ .image }} 338w, /images/carousel/1200_{{ .image }} 1200w, /images/carousel/600_{{ .image }} 600w, /images/carousel/300_{{ .image }} 300w " 
                                        src="/images/carousel/{{ .image }}" 
                                        width="600" height="338"
                                        alt="{{ .Params.alt }}">
                                    <!-- <img 
                                        src="images/carousel/{{ .image }}" 
                                        alt="{{ .alt }}"
                                        width="600" height="338"> -->
                                    {{ end }}
                                    </div>
                                    <div class="col-sm-6 right">
                                        <h1>{{ .title }}</h1>
                                        {{ .description | safeHTML }}
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    {{ end }}
                </div>

            </div>
        </div>
    </div>
</section>
<script>
    $(document).ready(function() {
      var owl = $('.owl-carousel');
      owl.owlCarousel({
        items: 1,
        loop: true,
        margin: 20,
        nav: false,
        lazyLoadEager: 1,
        autoplay: true,
        autoplayTimeout: 8000,
        lazyLoad: true,
        autoplayHoverPause: true,
        autoHeight: true
      });
    })
  </script>
{{ end }}
{{ end }}
